{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n/* eslint-disable prefer-named-capture-group */\n// Disabled `prefer-named-capture-group` due to https://github.com/babel/babel/issues/8951#issuecomment-508045524\n// Only Node.JS has a process variable that is of [[Class]] process\n\n\nvar supportsNodeVM = function supportsNodeVM() {\n  try {\n    return Object.prototype.toString.call(global.process) === '[object process]';\n  } catch (e) {\n    return false;\n  }\n};\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n* @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n*/\n\n/**\n* @callback ConditionCallback\n* @param {any} item\n* @returns {boolean}\n*/\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n\nJSONPath.nodeVMSupported = supportsNodeVM();\nvar vm = JSONPath.nodeVMSupported ? require('vm') : {\n  /**\n   * @param {string} expr Expression to evaluate\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {any} Result of evaluated code\n   */\n  runInNewContext: function runInNewContext(expr, context) {\n    var keys = Object.keys(context);\n    var funcs = [];\n    moveToAnotherArray(keys, funcs, function (key) {\n      return typeof context[key] === 'function';\n    });\n    var values = keys.map(function (vr, i) {\n      return context[vr];\n    });\n    var funcString = funcs.reduce(function (s, func) {\n      var fString = context[func].toString();\n\n      if (!/function/.exec(fString)) {\n        fString = 'function ' + fString;\n      }\n\n      return 'var ' + func + '=' + fString + ';' + s;\n    }, '');\n    expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n    if (!expr.match(/([\"'])use strict\\1/) && !keys.includes('arguments')) {\n      expr = 'var arguments = undefined;' + expr;\n    } // Remove last semi so `return` will be inserted before\n    //  the previous one instead, allowing for the return\n    //  of a bare ending expression\n\n\n    expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n    var lastStatementEnd = expr.lastIndexOf(';');\n    var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n    return _construct(Function, _toConsumableArray(keys).concat([code])).apply(void 0, _toConsumableArray(values));\n  }\n};\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {any} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {any} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\n\nvar NewError = /*#__PURE__*/function (_Error) {\n  _inherits(NewError, _Error);\n  /**\n   * @param {any} value The evaluated scalar value\n   */\n\n\n  function NewError(value) {\n    var _this;\n\n    _classCallCheck(this, NewError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewError).call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)'));\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n\n  return NewError;\n}(_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"}\n *   [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n\n      return e.value;\n    }\n  }\n\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType && opts.resultType.toLowerCase() || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n\n    var ret = this.evaluate(args);\n\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n\n    return ret;\n  }\n} // PUBLIC METHODS\n\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var that = this;\n  var currParent = this.parent,\n      currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n      wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path) {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    if (!('json' in expr)) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    json = hasOwnProp.call(expr, 'json') ? expr.json : json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n\n  if (!expr || !json) {\n    return undefined;\n  }\n\n  this._obj = json;\n  var exprList = JSONPath.toPathArray(expr);\n\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n\n  this._hasParentSelector = null;\n\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = that._getPreferredOutput(ea);\n\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n\n  switch (resultType) {\n    default:\n      throw new TypeError('Unknown result type');\n\n    case 'all':\n      ea.pointer = JSONPath.toPointer(ea.path);\n      ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n      return ea;\n\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n  }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n  var that = this;\n\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n\n    this._handleCallback(retObj, callback, 'value');\n\n    return retObj;\n  }\n\n  var loc = expr[0],\n      x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr));\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      addRet(that._trace(unshift(m, _x), v, p, par, pr, cb, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(v[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(that._trace(unshift(l, _x), v[m], push(p, m), v, m, cb, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return path.length ? {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    } : [];\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n\n    this._handleCallback(retObj, callback, 'property');\n\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      if (that._eval(l.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1'), v[m], m, p, par, pr)) {\n        addRet(that._trace(unshift(m, _x), v, p, par, pr, cb, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n\n    switch (valueType) {\n      /* istanbul ignore next */\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n\n        break;\n\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'number':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType && isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'nonFinite':\n        if (typeof val === 'number' && !isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n\n      case 'integer':\n        if (val === Number(val) && isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n\n        break;\n    }\n\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n\n      this._handleCallback(retObj, callback, 'value');\n\n      return retObj;\n    } // `-escaped property\n\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = parts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n\n      if (rett && rett.isParentSelector) {\n        var tmp = that._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._walk = function (loc, expr, val, path, parent, parentPropName, callback, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n\n    for (var i = 0; i < n; i++) {\n      f(i, loc, expr, val, path, parent, parentPropName, callback);\n    }\n  } else if (_typeof(val) === 'object') {\n    for (var m in val) {\n      if (hasOwnProp.call(val, m)) {\n        f(m, loc, expr, val, path, parent, parentPropName, callback);\n      }\n    }\n  }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n\n  var len = val.length,\n      parts = loc.split(':'),\n      step = parts[2] && parseInt(parts[2]) || 1;\n  var start = parts[0] && parseInt(parts[0]) || 0,\n      end = parts[1] && parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  if (!this._obj || !_v) {\n    return false;\n  }\n\n  if (code.includes('@parentProperty')) {\n    this.currSandbox._$_parentProperty = parentPropName;\n    code = code.replace(/@parentProperty/g, '_$_parentProperty');\n  }\n\n  if (code.includes('@parent')) {\n    this.currSandbox._$_parent = parent;\n    code = code.replace(/@parent/g, '_$_parent');\n  }\n\n  if (code.includes('@property')) {\n    this.currSandbox._$_property = _vname;\n    code = code.replace(/@property/g, '_$_property');\n  }\n\n  if (code.includes('@path')) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n    code = code.replace(/@path/g, '_$_path');\n  }\n\n  if (code.includes('@root')) {\n    this.currSandbox._$_root = this.json;\n    code = code.replace(/@root/g, '_$_root');\n  }\n\n  if (code.match(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/)) {\n    this.currSandbox._$_v = _v;\n    code = code.replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n  }\n\n  try {\n    return vm.runInNewContext(code, this.currSandbox);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n      n = x.length;\n  var p = '$';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n      n = x.length;\n  var p = '';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\['((?:[\\0-&\\(-\\\\\\^-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)'\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/'?\\.'?(?!(?:[\\0-Z\\\\-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*\\])|\\['?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr];\n};\n\nexport { JSONPath };","map":{"version":3,"sources":["/home/madhav/P2P Lending/client/node_modules/jsonpath-plus/dist/index-es.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","Object","create","value","writable","configurable","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_construct","Parent","args","Class","a","push","apply","Function","bind","arguments","_isNativeFunction","fn","indexOf","_wrapNativeSuper","_cache","Map","undefined","has","get","set","Wrapper","enumerable","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","i","arr2","length","iter","from","supportsNodeVM","global","process","hasOwnProp","hasOwnProperty","moveToAnotherArray","source","target","conditionCb","il","item","splice","JSONPath","nodeVMSupported","vm","require","runInNewContext","expr","context","keys","funcs","key","values","map","vr","funcString","reduce","s","func","fString","exec","match","includes","replace","lastStatementEnd","lastIndexOf","code","slice","concat","unshift","NewError","_Error","_this","avoidNew","name","Error","opts","callback","otherTypeCallback","optObj","json","path","resultType","toLowerCase","flatten","wrap","sandbox","preventEval","parent","parentProperty","autostart","ret","evaluate","that","currParent","currParentProperty","currResultType","currPreventEval","currSandbox","currOtherTypeCallback","toPathString","_obj","exprList","toPathArray","shift","_hasParentSelector","result","_trace","filter","ea","isParentSelector","hasArrExpr","_getPreferredOutput","rslt","valOrPath","pointer","toPointer","_handleCallback","fullRetObj","type","preferredOutput","val","parentPropName","literalPriority","retObj","loc","x","addRet","elems","forEach","t","_walk","m","l","_x","v","par","pr","cb","test","_slice","_eval","addType","valueType","isFinite","Number","locProp","parts","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","next","done","part","err","rett","tmp","tl","tt","f","n","len","step","parseInt","start","end","Math","max","min","_v","_vname","_$_parentProperty","_$_parent","_$_property","_$_path","_$_root","_$_v","console","log","message","cache","pathArr","subx","normalized","$0","$1","prop","ups","join","exp"],"mappings":"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","sourcesContent":["function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n/* eslint-disable prefer-named-capture-group */\n// Disabled `prefer-named-capture-group` due to https://github.com/babel/babel/issues/8951#issuecomment-508045524\n// Only Node.JS has a process variable that is of [[Class]] process\nvar supportsNodeVM = function supportsNodeVM() {\n  try {\n    return Object.prototype.toString.call(global.process) === '[object process]';\n  } catch (e) {\n    return false;\n  }\n};\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n* @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n*/\n\n/**\n* @callback ConditionCallback\n* @param {any} item\n* @returns {boolean}\n*/\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n\nJSONPath.nodeVMSupported = supportsNodeVM();\nvar vm = JSONPath.nodeVMSupported ? require('vm') : {\n  /**\n   * @param {string} expr Expression to evaluate\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {any} Result of evaluated code\n   */\n  runInNewContext: function runInNewContext(expr, context) {\n    var keys = Object.keys(context);\n    var funcs = [];\n    moveToAnotherArray(keys, funcs, function (key) {\n      return typeof context[key] === 'function';\n    });\n    var values = keys.map(function (vr, i) {\n      return context[vr];\n    });\n    var funcString = funcs.reduce(function (s, func) {\n      var fString = context[func].toString();\n\n      if (!/function/.exec(fString)) {\n        fString = 'function ' + fString;\n      }\n\n      return 'var ' + func + '=' + fString + ';' + s;\n    }, '');\n    expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n    if (!expr.match(/([\"'])use strict\\1/) && !keys.includes('arguments')) {\n      expr = 'var arguments = undefined;' + expr;\n    } // Remove last semi so `return` will be inserted before\n    //  the previous one instead, allowing for the return\n    //  of a bare ending expression\n\n\n    expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n    var lastStatementEnd = expr.lastIndexOf(';');\n    var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n    return _construct(Function, _toConsumableArray(keys).concat([code])).apply(void 0, _toConsumableArray(values));\n  }\n};\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {any} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {any} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\n\nvar NewError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(NewError, _Error);\n\n  /**\n   * @param {any} value The evaluated scalar value\n   */\n  function NewError(value) {\n    var _this;\n\n    _classCallCheck(this, NewError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewError).call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)'));\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n\n  return NewError;\n}(_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"}\n *   [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n\n      return e.value;\n    }\n  }\n\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType && opts.resultType.toLowerCase() || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n\n    var ret = this.evaluate(args);\n\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n\n    return ret;\n  }\n} // PUBLIC METHODS\n\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var that = this;\n  var currParent = this.parent,\n      currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n      wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path) {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    if (!('json' in expr)) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    json = hasOwnProp.call(expr, 'json') ? expr.json : json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n\n  if (!expr || !json) {\n    return undefined;\n  }\n\n  this._obj = json;\n  var exprList = JSONPath.toPathArray(expr);\n\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n\n  this._hasParentSelector = null;\n\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = that._getPreferredOutput(ea);\n\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n\n  switch (resultType) {\n    default:\n      throw new TypeError('Unknown result type');\n\n    case 'all':\n      ea.pointer = JSONPath.toPointer(ea.path);\n      ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n      return ea;\n\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n  }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n  var that = this;\n\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n\n    this._handleCallback(retObj, callback, 'value');\n\n    return retObj;\n  }\n\n  var loc = expr[0],\n      x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr));\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      addRet(that._trace(unshift(m, _x), v, p, par, pr, cb, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(v[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(that._trace(unshift(l, _x), v[m], push(p, m), v, m, cb, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return path.length ? {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    } : [];\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n\n    this._handleCallback(retObj, callback, 'property');\n\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      if (that._eval(l.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1'), v[m], m, p, par, pr)) {\n        addRet(that._trace(unshift(m, _x), v, p, par, pr, cb, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n\n    switch (valueType) {\n      /* istanbul ignore next */\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n\n        break;\n\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'number':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType && isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'nonFinite':\n        if (typeof val === 'number' && !isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n\n      case 'integer':\n        if (val === Number(val) && isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n\n        break;\n    }\n\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n\n      this._handleCallback(retObj, callback, 'value');\n\n      return retObj;\n    } // `-escaped property\n\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = parts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n\n      if (rett && rett.isParentSelector) {\n        var tmp = that._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._walk = function (loc, expr, val, path, parent, parentPropName, callback, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n\n    for (var i = 0; i < n; i++) {\n      f(i, loc, expr, val, path, parent, parentPropName, callback);\n    }\n  } else if (_typeof(val) === 'object') {\n    for (var m in val) {\n      if (hasOwnProp.call(val, m)) {\n        f(m, loc, expr, val, path, parent, parentPropName, callback);\n      }\n    }\n  }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n\n  var len = val.length,\n      parts = loc.split(':'),\n      step = parts[2] && parseInt(parts[2]) || 1;\n  var start = parts[0] && parseInt(parts[0]) || 0,\n      end = parts[1] && parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  if (!this._obj || !_v) {\n    return false;\n  }\n\n  if (code.includes('@parentProperty')) {\n    this.currSandbox._$_parentProperty = parentPropName;\n    code = code.replace(/@parentProperty/g, '_$_parentProperty');\n  }\n\n  if (code.includes('@parent')) {\n    this.currSandbox._$_parent = parent;\n    code = code.replace(/@parent/g, '_$_parent');\n  }\n\n  if (code.includes('@property')) {\n    this.currSandbox._$_property = _vname;\n    code = code.replace(/@property/g, '_$_property');\n  }\n\n  if (code.includes('@path')) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n    code = code.replace(/@path/g, '_$_path');\n  }\n\n  if (code.includes('@root')) {\n    this.currSandbox._$_root = this.json;\n    code = code.replace(/@root/g, '_$_root');\n  }\n\n  if (code.match(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/)) {\n    this.currSandbox._$_v = _v;\n    code = code.replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n  }\n\n  try {\n    return vm.runInNewContext(code, this.currSandbox);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n      n = x.length;\n  var p = '$';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n      n = x.length;\n  var p = '';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\['((?:[\\0-&\\(-\\\\\\^-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)'\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/'?\\.'?(?!(?:[\\0-Z\\\\-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*\\])|\\['?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr];\n};\n\nexport { JSONPath };\n"]},"metadata":{},"sourceType":"module"}