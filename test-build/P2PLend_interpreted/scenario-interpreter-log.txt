Comment...
 h1: Simple Interest P2P Lending
Comment...
 p: 
 Simple Interest P2P Lending
 Accounts
 Contract
 Entry points
# Admin mints a few coins
# Admin mints a few coins for Alice
# Admin mints a few coins for Bob
# Alice issues a loan request value: 10
# Bob wants to approve the loan
# Admin mints a few coins for Alice
# Alice wants to pay back the loan
 Views
# Balance
# Administrator
# Total Supply
# Loans
Comment...
 h1: Accounts
Computing sp.list([sp.test_account("Administrator"), sp.test_account("Alice"), sp.test_account("Robert")])...
 => sp.list([sp.record(seed = 'Administrator', address = sp.address('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'), public_key = sp.key('edpktzrjdb1tx6dQecQGZL6CwhujWg1D2CXfXWBriqtJSA6kvqMwA2'), public_key_hash = sp.key_hash('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'), secret_key = sp.secret_key('edskRqFp3Z9AqoKrMNFb9bnWNwEsRzbjqjBhzmFMLF9UqB6VBmw7F8ppTiXaAnHtysmi6xFxoHf6rMUz6Y1ipiDz2EgwZQv3pa')), sp.record(seed = 'Alice', address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), public_key = sp.key('edpkuvNy6TuQ2z8o9wnoaTtTXkzQk7nhegCHfxBc4ecsd4qG71KYNG'), public_key_hash = sp.key_hash('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), secret_key = sp.secret_key('edskRijgcXx8gzqkq7SCBbrb6aDZQMmP6dznCQWgU1Jr4qPfJT1yFq5A39ja9G4wahS8uWtBurZy14Hy7GZkQh7WnopJTKtCQG')), sp.record(seed = 'Robert', address = sp.address('tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP'), public_key = sp.key('edpkvThfdv8Efh1MuqSTUk5EnUFCTjqN6kXDCNXpQ8udN3cKRhNDr2'), public_key_hash = sp.key_hash('tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP'), secret_key = sp.secret_key('edskRiaffUWqB9zgaEhuX6EmejbLzk2xcpSEXLv3G4cDfcbY75c71ASyGnFHXuaTAVMPt2bJLGGye1gm24oBmAc2k5VDHHo5Ua'))])
Comment...
 h1: Contract
Comment...
 h1: Entry points
Creating contract
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {}) (Pair {} (Pair 0 0)))
 => ./test-build/P2PLend_interpreted/testContractTypes.0.6.tz 2
 => ./test-build/P2PLend_interpreted/testContractCode.0.6.tz 1562
 => ./test-build/P2PLend_interpreted/testContractCode.0.6.tz.json 1704
 => ./test-build/P2PLend_interpreted/testPrettyPrint.0.6.py 73
Comment...
 h2: Admin mints a few coins
Executing mint(sp.record(address = sp.reduce(sp.test_account("Administrator").address), value = 1000))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {} (Pair 0 1000)))
Comment...
 h2: Admin mints a few coins for Alice
Executing mint(sp.record(address = sp.reduce(sp.test_account("Alice").address), value = 100))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {} (Pair 0 1100)))
Comment...
 h2: Admin mints a few coins for Bob
Executing mint(sp.record(address = sp.reduce(sp.test_account("Robert").address), value = 100))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 100; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {} (Pair 0 1200)))
Comment...
 h2: Alice issues a loan request value: 10
Executing borrowreq(sp.record(dur = 86400, qty = 100))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 100; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1100}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi"))) (Pair (Pair False False) (Pair 108 (Pair True "0"))))} (Pair 1 1200)))
Verifying sp.contract_data(0).noLoans == 1...
 => ./test-build/P2PLend_interpreted/testVerify.15.tz 23
 OK
Verifying sp.contract_data(0).balances[sp.reduce(sp.test_account("Alice").address)].balance == 0...
 => ./test-build/P2PLend_interpreted/testVerify.16.tz 34
 OK
Verifying sp.contract_data(0).balances[sp.reduce(sp.test_account("Administrator").address)].balance == 1100...
 => ./test-build/P2PLend_interpreted/testVerify.17.tz 34
 OK
Comment...
 h2: Bob wants to approve the loan
Executing lend(1)...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 0; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1100}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP"))) (Pair (Pair True False) (Pair 108 (Pair True "1596102766"))))} (Pair 1 1200)))
Verifying sp.contract_data(0).balances[sp.reduce(sp.test_account("Alice").address)].balance == 100...
 => ./test-build/P2PLend_interpreted/testVerify.20.tz 34
 OK
Verifying sp.contract_data(0).balances[sp.reduce(sp.test_account("Robert").address)].balance == 0...
 => ./test-build/P2PLend_interpreted/testVerify.21.tz 34
 OK
Comment...
 h2: Admin mints a few coins for Alice
Executing mint(sp.record(address = sp.reduce(sp.test_account("Alice").address), value = 8))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 0; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 108; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1100}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP"))) (Pair (Pair True False) (Pair 108 (Pair True "1596102766"))))} (Pair 1 1208)))
Comment...
 h2: Alice wants to pay back the loan
Executing paid(sp.record(amount = 108, index = 1))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 108; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP"))) (Pair (Pair True False) (Pair 108 (Pair True "1596102766"))))} (Pair 1 1208)))
Verifying sp.contract_data(0).balances[sp.reduce(sp.test_account("Alice").address)].balance == 100...
 => ./test-build/P2PLend_interpreted/testVerify.26.tz 34
 OK
Verifying sp.contract_data(0).balances[sp.reduce(sp.test_account("Robert").address)].balance == 108...
 => ./test-build/P2PLend_interpreted/testVerify.27.tz 34
 OK
Verifying sp.contract_data(0).balances[sp.reduce(sp.test_account("Administrator").address)].balance == 1000...
 => ./test-build/P2PLend_interpreted/testVerify.28.tz 34
 OK
Comment...
 h1: Views
Creating contract
 -> Unit
 => ./test-build/P2PLend_interpreted/testContractTypes.1.30.tz 2
 => ./test-build/P2PLend_interpreted/testContractCode.1.30.tz 34
 => ./test-build/P2PLend_interpreted/testContractCode.1.30.tz.json 35
 => ./test-build/P2PLend_interpreted/testPrettyPrint.1.30.py 21
Comment...
 h2: Balance
Executing getBalance(sp.record(arg = sp.record(owner = sp.reduce(sp.test_account("Robert").address)), contractAddress = sp.contract_address(Contract1)))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 108; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP"))) (Pair (Pair True False) (Pair 108 (Pair True "1596102766"))))} (Pair 1 1208)))
Executing viewBalance(108)...
 -> Unit
Comment...
 h2: Administrator
Executing getAdministrator(sp.record(contractAddress = sp.contract_address(Contract1)))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 108; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP"))) (Pair (Pair True False) (Pair 108 (Pair True "1596102766"))))} (Pair 1 1208)))
Executing viewAdministrator(sp.address('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'))...
 -> Unit
Comment...
 h2: Total Supply
Executing getTotalSupply(sp.record(contractAddress = sp.contract_address(Contract1)))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 108; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP"))) (Pair (Pair True False) (Pair 108 (Pair True "1596102766"))))} (Pair 1 1208)))
Executing viewTotalSupply(1208)...
 -> Unit
Comment...
 h2: Loans
Executing getLoans(sp.record(contractAddress = sp.contract_address(Contract1)))...
 -> (Pair (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" {Elt "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP" 108; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100; Elt "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" 1000}) (Pair {Elt 1 (Pair (Pair (Pair 100 "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 100 (Pair 86400 "tz1Ns3YQJR6piMZ8GrD2iYu94Ybi1HFfNyBP"))) (Pair (Pair True False) (Pair 108 (Pair True "1596102766"))))} (Pair 1 1208)))
Executing viewLoans(1)...
 -> Unit